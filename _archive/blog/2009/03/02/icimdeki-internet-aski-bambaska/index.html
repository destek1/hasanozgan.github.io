
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>İçimdeki İnternet Aşkı Bambaşka!..</title>
    
    <meta name="author" content="Hasan Ozgan">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/heves/css/bootstrap-combined.min.css" rel="stylesheet">
    <link href="/assets/themes/heves/css/docs.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/heves/js/google-code-prettify/prettify.css" rel="stylesheet">
    <link href="/assets/themes/heves/css/followbox.css" rel="stylesheet" type="text/css"/>

    <!-- Le fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->
</head>

<body>

<div class="navbar navbar-fixed-top">
<a href="http://www.reactivemanifesto.org/"><img style="border: 0; position: fixed; right: 0; top:41px; z-index: 9000" src="http://www.reactivemanifesto.org/images/ribbons/we-are-reactive-red-right.png"></a> 
    <div class="navbar-inner">
        <div class="container" style="width:1200px">
           <a class="brand" href="/">Internet Stratejileri, Yazılım Geliştirme ve Mimarileri Üzerine</a>

            <div class="nav-collapse">
                <ul class="nav">
                    <li>
                        <a href="/"><i class="icon-home"></i> Anasayfa</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-briefcase"></i> Belgeler <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        	<li><a href="/blog/2013/03/30/fonksiyonel-programlama/" target="_blank">Fonksiyonel Programlama</a></li>
                            <li><a href="/belgeler/scala-rehberi" rel="tooltip" title="Scala Rehberi" target="_blank">Scala Rehberi</a></li>
                            <li><a href="/belgeler/tasarim-desenleri" rel="tooltip" title="Tasarım Desenleri" target="_blank">Tasarım Desenleri</a></li>
                            <li><a href="/belgeler/tasarim-prensipleri" rel="tooltip" title="Tasarım Prensipleri" target="_blank">Tasarım Prensipleri</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="https://github.com/HasanOzgan"><i class="icon-globe"></i> Projeler</a>
                    </li>
                    <li><a href="/archive"><i class="icon-folder-open"></i> Arşiv</a></li>
                    <li>
                        <a href="/hakkinda"><i class="icon-user"></i> Hakkımda</a>
                    </li>
                    
                </ul>
            </div>

        </div>
    </div>
</div>

<div class="container">
    <div class="marketing">
        <div class="content">
            


<div class="row">
    <div class="span12 column">
        <p></p><h1>İçimdeki İnternet Aşkı Bambaşka!..</h1><p></p>
    </div>
</div>

<div class="row">
    <div class="span8 column">
        <!--<h5><strong>Mart 02, 2009 <small> | <a href="/blog/2009/03/02/icimdeki-internet-aski-bambaska#disqus_thread" data-disqus-identifier="/blog/2009/03/02/icimdeki-internet-aski-bambaska">Yorumlar</a></small></strong><br>-->

        
            <i class="icon-tags"></i> Etiketler :
            
                <a href="tag/Diğer" rel="tooltip" title="View posts tagged with &quot;Diğer&quot;"><span class="label label-info">Diğer</span></a>
            
        


    </div>
    <div class="span4 column">
        <p class="pull-right">
            
            <a href="/blog/2009/03/01/yazilim-gelistiricisinin-serefi" title="Yazılım Mühendisi'nin Şerefi"><i class="icon-chevron-left"></i></a>
            
            
            <a href="/blog/2009/03/08/hakkimda-7-sey" title="Hakkımda 7 Şey"><i class="icon-chevron-right"></i></a>
            
        </p>
    </div>
</div>

<div class="row">
  <div class="span12">
    <hr style="margin: 30px 0 30px 0"/>

      Hava bahardan kalma ve güneş dünyaya gülümsüyordu. Günlerden pazar günüydü. Dışarı çıkma planları yapmış, bloguma yeni bir yazı girişi yapıyordum ki, veritabanı çok fazla bağlantı hatası vermeye başlayınca "Ne oluyor laan!" cümlesi ağzımdan çıkı verdi. Sunucunu loglarına bakınca saniyede 50-100 arası istek olduğunu görünce saldırı olduğunu düşündüm. (Normalde sunucuma bu kadar istek gelmez!) Sonra incelediğimde sorunun sebebinin kissa.be servisi olduğunu gördüm. Kissa.be yurtdışında az-buçuk tanınan bir servis olduğu için neden bu kadar istek geldiğine baktım. Halen saldırı olduğunu düşünüyordum fakat inceleyince gördümki, kissa.be'yi kullanan kişi Çin'deki bir Porno Forumuna kissa.be linki vermiş. Ve bu yazıyı yazarken Uniq istek 150.000 civarındaydı. Sunucum ve benim için çok fazla olan bu isteği kara listeye almak istemiyordum. Sonuçta kissa.be bir servisti herşeye garanti veriyordu.

Peki bu sorunu nasıl çözdüm? Sihirli sözcükleri söylediğinizi duyar gibiyim. Evet Memcached! Hayat kurtaran asrın buluşu icat. Hemen memcache sisteme aktif ettim. İnsert işlemlerinide bir  havuza soktum. SQL sorguları bir havuzda toplu olarak güncelleniyor. Sorun çözüldü böylece, kissa.be servisi icin yapmayi bile dusunmedigim stress testi boylece gerceklesti.

Evet güzel pazar günüm bu işle uğraşarak gitti. :) Peki pişman mıyım? Hayır! Kızgın mıyım? Evet Kendime kızgınım!. Kodları bu hafta daha ciddi bir şekilde yeniden düzenleyeceğim. Her geçen gün biraz daha şekillenen Joy Framework mimarisine taşımaya karar verdim. İnterneti ve yüzbinlerce (pornocu) insanın farkında olmadan benim sitemi kullanmaları çok eğlenceliydi. Apache log'u her an aktığını ne zamandır görmüyordum. :)

Evet sıradaki sınavlar için  hazırım :)


      <!--
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/blog/2009/03/01/yazilim-gelistiricisinin-serefi" title="Yazılım Mühendisi'nin Şerefi">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next"><a href="/blog/2009/03/08/hakkimda-7-sey" title="Hakkımda 7 Şey">Next &rarr;</a></li>
      
      </ul>
    </div>-->
    <p>&nbsp;</p>
    
  </div>
  
</div>


        </div>
    </div>
</div>
<!-- /container -->


<footer class="footer">
    <div class="container">
        <p class="pull-right"> | <a href="#">Başa Dön</a> | </p>

        <p>
            &copy; 2007 - 2013 Hasan Ozgan<br/>
            <small>En son güncellenme tarihi: Kasım 04, 2013</small>
        </p>

    </div>
</footer>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript"></script>
<script src="/assets/themes/heves/js/bootstrap.min.js" type="text/javascript"></script>
<script src="/assets/themes/heves/js/jquery.followbox.min.js" type="text/javascript"></script>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1491715-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>

