
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Fonksiyonel Programlama</title>
    
    <meta name="author" content="Hasan Ozgan">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/heves/css/bootstrap-combined.min.css" rel="stylesheet">
    <link href="/assets/themes/heves/css/docs.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/heves/js/google-code-prettify/prettify.css" rel="stylesheet">
    <link href="/assets/themes/heves/css/followbox.css" rel="stylesheet" type="text/css"/>

    <!-- Le fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->
</head>

<body>

<div class="navbar navbar-fixed-top">
<a href="http://www.reactivemanifesto.org/"><img style="border: 0; position: fixed; right: 0; top:41px; z-index: 9000" src="http://www.reactivemanifesto.org/images/ribbons/we-are-reactive-red-right.png"></a> 
    <div class="navbar-inner">
        <div class="container" style="width:1200px">
           <a class="brand" href="/">Internet Stratejileri, Yazılım Geliştirme ve Mimarileri Üzerine</a>

            <div class="nav-collapse">
                <ul class="nav">
                    <li>
                        <a href="/"><i class="icon-home"></i> Anasayfa</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-briefcase"></i> Belgeler <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        	<li><a href="/blog/2013/03/30/fonksiyonel-programlama/" target="_blank">Fonksiyonel Programlama</a></li>
                            <li><a href="/belgeler/scala-rehberi" rel="tooltip" title="Scala Rehberi" target="_blank">Scala Rehberi</a></li>
                            <li><a href="/belgeler/tasarim-desenleri" rel="tooltip" title="Tasarım Desenleri" target="_blank">Tasarım Desenleri</a></li>
                            <li><a href="/belgeler/tasarim-prensipleri" rel="tooltip" title="Tasarım Prensipleri" target="_blank">Tasarım Prensipleri</a></li>
                        </ul>
                    </li>
                    <li>
                        <a href="https://github.com/HasanOzgan"><i class="icon-globe"></i> Projeler</a>
                    </li>
                    <li><a href="/archive"><i class="icon-folder-open"></i> Arşiv</a></li>
                    <li>
                        <a href="/hakkinda"><i class="icon-user"></i> Hakkımda</a>
                    </li>
                    
                </ul>
            </div>

        </div>
    </div>
</div>

<div class="container">
    <div class="marketing">
        <div class="content">
            


<div class="row">
    <div class="span12 column">
        <p></p><h1>Fonksiyonel Programlama</h1><p></p>
    </div>
</div>

<div class="row">
    <div class="span8 column">
        <!--<h5><strong>Mart 30, 2013 <small> | <a href="/blog/2013/03/30/fonksiyonel-programlama#disqus_thread" data-disqus-identifier="/blog/2013/03/30/fonksiyonel-programlama">Yorumlar</a></small></strong><br>-->

        
            <i class="icon-tags"></i> Etiketler :
            
                <a href="tag/first-class citizen" rel="tooltip" title="View posts tagged with &quot;first-class citizen&quot;"><span class="label label-info">first-class citizen</span></a>
            
                <a href="tag/scala" rel="tooltip" title="View posts tagged with &quot;scala&quot;"><span class="label label-info">scala</span></a>
            
                <a href="tag/currying" rel="tooltip" title="View posts tagged with &quot;currying&quot;"><span class="label label-info">currying</span></a>
            
                <a href="tag/closure" rel="tooltip" title="View posts tagged with &quot;closure&quot;"><span class="label label-info">closure</span></a>
            
                <a href="tag/lambda express" rel="tooltip" title="View posts tagged with &quot;lambda express&quot;"><span class="label label-info">lambda express</span></a>
            
                <a href="tag/monads" rel="tooltip" title="View posts tagged with &quot;monads&quot;"><span class="label label-info">monads</span></a>
            
                <a href="tag/high-order function" rel="tooltip" title="View posts tagged with &quot;high-order function&quot;"><span class="label label-info">high-order function</span></a>
            
                <a href="tag/functional programming" rel="tooltip" title="View posts tagged with &quot;functional programming&quot;"><span class="label label-info">functional programming</span></a>
            
        


    </div>
    <div class="span4 column">
        <p class="pull-right">
            
            <a href="/blog/2013/03/22/du-bakalim-nolecak" title="Du Bakalım N'Olecak?"><i class="icon-chevron-left"></i></a>
            
            
        </p>
    </div>
</div>

<div class="row">
  <div class="span12">
    <hr style="margin: 30px 0 30px 0"/>

      <p>Fonksiyonel Programlama, günümüz web dünyasında her programcının bilmesi ve uygulaması gereken bir programlama paradigmasıdır. Nedenini bu yazının ilerleyen satırlarında bulacaksınız. Bu konu hakkında araştırma yaparken Türkçe kaynağın çok az ve yetersiz olduğunu gördüm. Bende bu konuyu dilim döndüğünce blogumda paylaşmaya karar verdim. Yeni öğrendiğim bir konu olduğu için, hatalı ve yanlış anlaşılmaya müsait olan noktalar olabilir. Eğer fonksiyonel programlamaya yıllarınızı verdiyseniz bu yazıya katkıda bulunabilirsiniz. Eğer benim gibi bu konuda yeniyseniz (devamının gelmesini umduğum) bu giriş yazısı umarım sizin için iyi bir başlangıç olur.</p>

<p>Fazla vakit kaybetmeden gelin fonksiyonel programlama paradigmasını daha yakından inceleyelim.</p>
<div class='ic'>
	<img src='/files/2013/03/functional_programming.png' />
</div>
<h2 id='nedir'>Nedir?</h2>

<p>Programlama dilleri, imperatif (Java, C, C++ vb.) ve dekleratif (Lisp, Haskel vb.) diller olmak üzere ikiye ayrılır. Fonksiyonel programlamada bir deklaratif bir dildir. Bu dil, matematikteki fonksiyonlara ait tüm özellikleri taşır. Fonksiyonların aldıkları parametreler ve geri dönüş değerleri sabittir ve değişiklik göstermez. Yani, yan-etkiler (<strong>side-effect</strong>) bulunmaz.</p>

<p>Yıllarca nesne yönelimli programlama dilleriyde çalışmış birinin, hemen fonksiyonel paradigmaya ait konuları anlaması çok kolay olmuyor maalesef. Nesne yönelimli bir programcının öncellikle değişkenler ve döngüler olmadan nasıl kod yazacağını düşünmesi gerekiyor. Bize hep herşeyi nesneler olarak küçük görevlere ayırmamız sonra bu görevleri doğru bir şekilde sınıflamamız öğretildi. Fonksiyonel programlamada, herşey fonksiyonlarla yapılır. Merak etmeyin fonksiyonel programlamanın ne olduğunu <em>&#8220;Nasıl&#8221;</em> başlığı altında ve örnekler yaptıkça daha iyi anlayacağız.</p>

<p>Fonksiyonel programlamada değişkensiz ve döngüsüz bir hayat <em>nasıl olur</em> sorusuna güzel bir örnek olarak; hepimizin az-çok bildiğini düşündüğüm excel gibi elektronik tablo (spreadsheets) türevi yazılımları verebiliriz. Elektronik tablo yazılımlarında her hücre bir değer alır ve geri döner. İç içe fonksiyonlar çağrılabilir. Hücre grubu liste olarak bir başka hücreye parametre olarak verilebilir. Birbirinden habersiz olarak sadece kendi etki alanlarından beklenen işi yaparlar. Bu konuda stackoverflow&#8217;da okuduğum <a href='http://stackoverflow.com/a/1956514/204928'>makalelere</a> göz atabilirsiniz.</p>

<p>Bir başka örnekte, unix terminallerde, bir komut çıktısını başka bir komut setine aktarmak için kullanılan pipe (|) güzel bir fonksiyonel çağrı örneği olabilir. Aşağıdaki örneği inceleyebilirsiniz.</p>
<script src='https://gist.github.com/5269426.js?file=declerative-vs-imperative.sh'>/* Github Gist */</script>
<p>Fonksiyonel programlama deyince; web geliştiricisi olarak, hepimiz aslında fonksiyonel programlamanın bazı özelliklerini farkında olarak yada olmayarak kullanıyoruz. Eğer fonksiyonel programlama hakkında biraz araştırma yaptıysanız, &#8220;javascript fonksiyonel bir dildir&#8221; gibi birşeyler duymuş olabilirsiniz. <strong>first-class</strong> fonksiyonları ve <strong>lambda</strong>ları desteklemesi göz önünde bulundurulursa fonksiyonel bir dil olarak düşünülebilir. Fakat fonksiyonel programlama sadece bu konulardan ibaret değildir. Bu yüzden literatülde javascript bir fonksiyonel programla dili olarak kabul edilmez. <a href='http://stackoverflow.com/a/3962690/204928'>stackoverflow&#8217;daki şu tartışmayı</a> inceleyebilirsiniz.</p>

<p>Şimdi gelin neden fonksiyonel programlama gerekli onu biraz irdeleyelim.</p>

<h2 id='neden'>Neden?</h2>

<p>Günümüz dünyasında web eş-zamanlı, dinamik ve ölçeklenebilir bir hale geldi. Örneğin, gönderdiğimiz bir tweet anlık olarak takipçiler tarafından görüntülenir ve arama sonuçlarına yansıtılır. Yüzlerce insan aynı anda bir web sitesini, bir fotoğrafı veya bir blog yazısını facebookta beğenebiliyor yada paylaşabiliyor. Altında ciddi bir mühendislik olan bu siteler nasıl hızlı ve anlık olarak çalışabiliyorlar hiç düşündünüz mü? Cevabınız işlemcilerin veya donanımların güçlenmesi, moore yasası kanunun geçerliliğini koruması vb gibi cevaplar aklınıza geliyorsa maalesef yanılıyorsunuz. Donanımların güçlenmesi tek başına asla yeterli olmamış ve olmayacaktır.</p>

<blockquote>
<p><strong>Moore Yasası</strong> Her 18 ayda bir tümleşik devre üzerine yerleştirilebilecek bileşen sayısının iki katına çıkacacağını, bunun bilgisayarların işlem kapasitelerinde büyük artışlar yaratacağını, üretim maliyetlerinin ise aynı kalacağını, hatta düşme eğilimi göstereceğini öngören deneysel gözlem.</p>
</blockquote>

<p>Donanım mühendisleri <em>Moore Yasası</em> doğrultusunda, fiziksel sınırları zorlayarak sona geldiklerinde, paralel çekirdek mimarileri tasarlamaya ve geliştirmeye başladılar. Böylece hayatımıza 2, 4 vb&#8230; şeklinde çok çekirdekli, paralel çalışabilen işlemciler girdi. Hız için yapılan bu geliştirme beraberinde paralel programlama ihtiyacınıda beraberinde getirdi.</p>

<p>Paralel programlama yaparken dikkat edilmesi gereken en önemli konu deterministik olmasıdır. Yani aynı sonuçlar altında aynı durumu vermesidir. Web dünyasında bu nedenle durum tutmayan (<strong>stateless</strong>) önemlidir. Concurrent programlamada thread konuları söz konusu olduğunda değişmeyen veriler (<strong>immutable</strong>) kullanmak ve saf yani (<strong>pure-function</strong>) yan-etkisi olmayan fonksiyonlar kullanmak gereklidir.</p>

<p>İşte fonksiyonel programlama paradigması, deterministik bir programlama disiplinidir.</p>

<p>Bu yüzden paralel programlama algoritmaları ve çözümlerinin yolu mutlaka fonksiyonel programlama pratiklerinden geçer.</p>

<p>Paralel programlama ve donanım neden yeterli olmadığı bir Google örneği vermek istiyorum. Google&#8217;ın ilk kurulduğu yıllarda tüm interneti depolamak için neden normal PCler kullandı hiç düşündünüz mü? Bunun yerine süper bilgisayarlar üzerinde koşan verilerin kudretli kahini Oracle&#8217;ın veritabanı ile siteleri indekslemek yerine elektronik tablo gibi kolon tabanlı bir veri mimarisi kullandı? Maalesef çok büyük verileri yönetmek için ilişkisiel veritabanlarının yük dağılımı ile ilgili sorunları oluşmaya başlıyor. Ayrıca Oracle gibi veritabanları pahalı bilgisayarlar üzerinde koşarlar. Bozulma ihtimallerine karşı yedekleme maaliyeti çok yüksek. Google bir mühendislik şirketi olarak fonksiyonel programlamada olduğu gibi bir çok düğümden (node) oluşan mozaik bir mimari kurdu. Bu mimari sayesinde, ölçeklenebilirliğin gerektirdiği bölünebilme toleransı <em>(partition tolerance)</em> sağlanmış oldu <em>(bknz. <a href='http://en.wikipedia.org/wiki/CAP_theorem'>CAP Theorem</a>)</em>. Ucuz maaliyetli bu bilgisayarlardan bir yada birkaçı bozulsa bile arama motoru çalışmaya ve sonuçlar getirmeye devam edecekti. Kısacası Google&#8217;ın <em>BigTable</em> adını verdiği sonra <em>Apache Foundation</em> tarafından bir benzeri yapılan <em>Hadoop</em> teknolojisi fonksiyonel programlama paradigmasını kuralları üzerine kurulmuştur. (bknz. <a href='http://hadoop.apache.org/docs/r1.0.4/mapred_tutorial.html'>Map-Reduce</a>)</p>

<p>İşte web dünyasında fonksiyonel programlama dillerine sıcak bakmasının sebebi budur. <em>Dağınık mimariler kurmak!</em> Fonksiyonel programlama dilleri dağınık mimariler için bir kodlama disiplini sağlar. Paralel programlamada istenmeyen yan-etkisi (side-effect) bulunan fonksiyonlar olmasına izin verilmez. Eğer yan etki gerektiren bir durum varsa, Bu gibi durumlarda <strong>monad</strong> diye adlandırılan bir teknik kullanılır.</p>

<p>İşte bu sebeple bir web programcısı için fonksiyonel programlama önemlidir. Belki bu disiplini kazandırmak için; PHP, Java gibi eski web dilleri fonksiyonel paradigmayı destekler özellikleri kendilerine katmaya başladılar.</p>

<h2 id='nasl'>Nasıl?</h2>

<p>Aşağıda genel fonksiyonel programlama kavramlarına kısaca değinilmiş ve örnekler verilmiştir.</p>

<h3 id='pure_functions'>Pure Functions</h3>

<p>Saf fonksiyonlar, yan etki barındırmayan fonksiyonlara denir. Peki yan etki nedir?</p>

<p>Yan-etki <em>(side-effect)</em>, genel olarak programlamada bir fonksiyonun kendi kapsama (scope) alanı dışında birşeyleri değiştirmesi durumudur.</p>

<p>Fonksiyonel programlamada &#8220;değisken&#8221; diye bir kavram olmadigindan ve her sey eninde sonunda bir fonksiyon oldugundan &#8220;degistirebileceginiz&#8221; degiskenler ve durumlar aslında yoktur. Ama yan etki illa, değişken olması gerekmez. Konsola çıktı yazmak, loglama yapmak, ekrana pencere çıkarmak, sistemdeki dosya, yazıcı, kamera gibi başka kaynaklara erişmek hepsi yan etkiye sebep olur.</p>

<p>Bu yüzden derleyici yan etkiye yol açan fonksiyonları sıralı olarak çağırır. Paralel çalışmalarına izin vermez.</p>
<script src='https://gist.github.com/5269426.js?file=pure-function.scala'>/* Github Gist */</script><script src='https://gist.github.com/5269426.js?file=non-pure-function.scala'>/* Github Gist */</script>
<h3 id='lists_and_tuples'> Lists and Tuples</h3>

<p>Fonksiyonel programlamada listeler çok önemlidir. Veri grupları (tuples) ise farklı veri tiplerini barındırabilir.</p>
<script src='https://gist.github.com/5269426.js?file=list-and-tuples.scala'>/* Github Gist */</script>
<h3 id='recursive_functions'>Recursive Functions</h3>

<p>Döngü yerine kendini çağıran (<strong>recursive</strong>) fonksiyonlar kullanılarak yapılır demiştik hatırlarsanız. Değişken diye birşey yoktur, değişkenlerde fonksiyonların kendisidir demiştik.</p>
<script src='https://gist.github.com/5269426.js?file=recursive.scala'>/* Github Gist */</script>
<h3 id='highorder_functions'>High-Order Functions</h3>

<p>Herşey fonksiyonlar yapılır ve fonksiyonlarda değişken gibidir demişken, bir fonksiyon başka bir fonksiyonu parametre olarak alabilir. Buna <strong>high-order functions</strong> denir.</p>
<script src='https://gist.github.com/5269426.js?file=high-order-function.scala'>/* Github Gist */</script>
<h3 id='anonymous_functions_lambda_expressions'>Anonymous Functions (Lambda Expressions)</h3>

<p>Bir fonksiyon tanımı yapılmadan yani bir kod blogu olarak kullanılabilir. Buna <strong>lambda</strong> yada <strong>anonymous functions</strong> denir.</p>
<script src='https://gist.github.com/5269426.js?file=lambda.scala'>/* Github Gist */</script>
<h3 id='currying'>Currying</h3>

<p>Fonksiyona ait parametrelerin azaltılması gerekebilir. Buna <strong>currying</strong> denir.</p>
<script src='https://gist.github.com/5269426.js?file=currying.scala'>/* Github Gist */</script>
<p>Ayrıca domain specific bir dil tanımlarken de kullanabilirsiniz, Güzel bir sintatik görünüm sağlar. Aşağıda bununla ilgili bir örnek bulabilirsiniz.</p>
<script src='https://gist.github.com/5269426.js?file=recursive-currying.scala'>/* Github Gist */</script>
<p>Bir fonksiyon currying haline aşağıdaki şekilde getirilebilir.</p>
<script src='https://gist.github.com/5269426.js?file=curried.scala'>/* Github Gist */</script>
<p>Currying olan bir fonksiyon currying&#8217;siz hale aşağıdaki şekilde getirilebilir.</p>
<script src='https://gist.github.com/5269426.js?file=uncurried.scala'>/* Github Gist */</script>
<h3 id='firstclass_functions_closure'>First-Class Functions (Closure)</h3>

<p>Fonksiyonel programlamada tip sınıfı <strong>first-class citizen</strong> diye bir konu vardır. Üç çeşittir. Öğelerinden biri, <strong>first-class function</strong> konusunudur. Buna göre;</p>

<ul>
<li>bir fonksiyon başka bir fonksiyonu parametre olarak alabilir.</li>

<li>bir fonksiyonu geri dönüş değeri olarak verebilir.</li>

<li>bir fonksiyon bir değer olarak atanabilir.</li>
</ul>

<p><strong>first-class function</strong> aynı zamanda <strong>closure</strong> olarakta bilinir.</p>
<script src='https://gist.github.com/5269426.js?file=closure.scala'>/* Github Gist */</script>
<h3 id='monads'>Monads</h3>

<p>Monad&#8217;lar fonksiyonlara kontrollü yan-etki desteği vermek için kullanılan bir tekniktir. Monad bir tür context olarak düşünüebilir. Monadlar 3 operatörle tanımlanır. Bunlar;</p>

<h4 id='bind'>bind</h4>

<p>Context içindeki bir değeri geçici olarak dışarı çıkarıp, ona bir değişiklik uygulayıp tekrar context&#8217;e sokar.</p>

<h4 id='return'>return</h4>

<p>Herhangi bir değeri olabilecek en basit sekilde context&#8217;e sokar.</p>

<h4 id='run'>run</h4>

<p>bir monad ayrica bir programi (~ computation) temsil ediyor olarak da dusunulebilir. temsil edilen programi calistirip sonucu hesaplamak icin kullanilir.</p>
<script src='https://gist.github.com/5269426.js?file=monads.scala'>/* Github Gist */</script>
<p>Philip Wadler&#8217;ın <a href='http://mirrors.csl.sri.com/www.brics.dk/%257Ehosc/local/LaSC-7-1-pp39-56.pdf'>Monads and Composable Continuations</a> hakkındaki makalesi önerilir.</p>

<h3 id='firstclass_controls_continuations'>First-Class Controls (Continuations)</h3>

<p>Bir nevi fonksiyonel programlamanın GOTO deyimidir.</p>
<script src='https://gist.github.com/5269426.js?file=continuations.scala'>/* Github Gist */</script>
<p>Monad ve Continuation konusunda araştırmalarım devam ediyor. Daha detaylı bir bilgilendirme, bir sonraki yazımda olacak.</p>

<p>İtiraf edin, insan Scala ile tanıştıktan sonra Java&#8217;yı Cobol gibi görmeye başlamıyor mu?</p>

      <!--
    <div class="pagination">
      <ul>
      
        <li class="prev"><a href="/blog/2013/03/22/du-bakalim-nolecak" title="Du Bakalım N'Olecak?">&larr; Previous</a></li>
      
        <li><a href="/archive.html">Archive</a></li>
      
        <li class="next disabled"><a>Next &rarr;</a>
      
      </ul>
    </div>-->
    <p>&nbsp;</p>
    
  </div>
  
</div>


        </div>
    </div>
</div>
<!-- /container -->


<footer class="footer">
    <div class="container">
        <p class="pull-right"> | <a href="#">Başa Dön</a> | </p>

        <p>
            &copy; 2007 - 2013 Hasan Ozgan<br/>
            <small>En son güncellenme tarihi: Kasım 04, 2013</small>
        </p>

    </div>
</footer>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js" type="text/javascript"></script>
<script src="/assets/themes/heves/js/bootstrap.min.js" type="text/javascript"></script>
<script src="/assets/themes/heves/js/jquery.followbox.min.js" type="text/javascript"></script>


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-1491715-5']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>

